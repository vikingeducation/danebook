<article class="row post">
  <header class="col-xs-12 media">
    <div class="media-left">
      <%= link_to image_tag('user_silhouette_generic.png', class: 'img-thumbnail media-object', alt: 'Generic User Image') %>
    </div>
    <div class="media-body">
      <h5 class="media-heading"><%= link_to post.user.full_name, user_about_path(post.user) %></h5>
      <p class="small text-muted"><%= post.date %></p>
    </div>
  </header>
  <div class="col-xs-12">
    <p><%= post.body %></p>
  </div>
  <footer class="post-footer col-xs-12">
    <span class="post-action"><%= link_to 'Unlike', post_like_path(post, current_user.id), method: :delete if post.liked_by(current_user.id) %> </span>
    <span class="pull-right"><%= link_to "Delete", user_post_path(post.user, post), method: :delete, data: {confirm: 'Are you sure you want to delete this post?'} if is_self? %></span>
    <div class="post-reaction">
      <span class="post-action"><%= render 'like_form', post: post unless post.liked_by(current_user.id) %><a href="#">Comment</a></span>
      <span><%= post.post_likes(current_user) %></span>
    </div>
  </footer>
  <div class="post-comments col-xs-12 post-footer">
    <%= render partial: 'comment', collection: post.comments.includes(user: [:profile]), as: :comment %>
  </div>
  <%= render partial: 'comment_form', locals: { post: post, comment: post.comments.build} %>
</article>